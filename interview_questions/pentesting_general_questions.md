# Pentesting (General) Questions
------
These are generic questions typically asked in interviews for roles where penetration testing, compliance, or 
vulnerability assessment are among the position's responsibilities, but not its core functions. For more 
focused questions aimed at penetration testers, see the appsec and netsec question files.

------
### Vulnerability Analysis
------

+ ##### You're given two versions of an application's source code, and you know the older one has a 
vulnerability in it. How do you find the vulnerability?
The `diff` utility in Linux will show you the differences between two files, side-by-side. Changes in how 
input is sanitized, how memory is allocated/freed, and how errors are handled can give you an idea of what 
conditions might make the app vulnerable. Then, it's just a matter of recreating those conditions and testing 
different inputs to find the vulnerability (or a working exploit).


+ ##### You have a machine running several unknown services that you want to identify. You can't directly 
interact with it (eg. use nmap). How do you figure out what's running on it?
If you can't actively fingerprint it by communicating with it, you can passively fingerprint it by listening 
to the traffic it sends and receives. You can look at what ports clients are communicating with on the host 
and what remote hosts/ports it's communicating with to get an idea of what services it's running and what OS 
it uses (ex. Linux boxes don't often call out to Windows Update servers). If it looks like services are 
running on nonstandard ports, you can use tools like Wireshark to try decoding the traffic as other protocols 
or manually investigate the traffic.

+ ##### How does `nmap` identify OS and service versions?
The short answer is heuristics, using TCP/IP fingerprinting.

    While RFCs are meant to standardize networking protocols, many OSes and services exhibit 
out-of-specification, extra-specification, or undefined behavior. A FreeBSD host will send a different 
response to certain TCP, UDP, and ICMP probes than an OS X host, for example. Some services will also 
announce their versions in protocol headers (ex. "HTTP-Powered-By") and banners (ex. "Your host is 
example.com, running version ircd-seven-1.1.3"). Nmap sends a series of probes to the target and compares the 
responses to a database of known responses for different operating systems and services. It then profiles the 
target based on the found heuristics.
